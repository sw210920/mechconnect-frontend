<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MechConnect â€” Dashboard</title>

  <link rel="stylesheet" href="./css/c-dashboard.css">
  <link rel="stylesheet" href="./header-footer/header.css">
  <link rel="stylesheet" href="./footer/footer.css">
</head>

<body class="inner-page" data-hide-links="services,mechanics,how-it-works,home" >

  <!-- Dynamic Header -->
  <div id="header"></div>

  <main class="dashboard">

    <!-- Welcome Section -->
    <section class="welcome-card">
      <h2 id="greetingText">Welcome!</h2>
      <p class="username">Hello, <span id="userName"></span> ğŸ‘‹</p>
    </section>

    <!-- Quick Actions -->
    <section class="quick-actions">
      <h3>Quick Actions</h3>
      <div class="actions-grid">

        <!--
        <a href="./book-service.html" class="action-card">
          <div class="icon">ğŸ› ï¸</div>
          <span>Book Service</span>
        </a>
        -->

        <a href="./book-service-new.html" class="action-card">
          <div class="icon">ğŸ‘¨â€ğŸ”§</div>
          <span>Find Mechanics</span>
        </a>

        <a href="./myBookings.html" class="action-card">
          <div class="icon">ğŸ“‘</div>
          <span>My Bookings</span>
        </a>

        <a href="./c-profile.html" class="action-card">
          <div class="icon">ğŸ‘¤</div>
          <span>My Profile</span>
        </a>

      </div>
    </section>

    <!-- Recent Bookings -->
    <section class="recent-box">
      <h3>Recent Bookings</h3>
      <div id="recentBookings" class="recent-list">
        <p class="empty">No recent bookings.</p>
      </div>
    </section>

    <!-- Recommended Mechanics -->
    <section class="recommended">
      <h3>Recommended Mechanics</h3>
      <div class="mechanic-grid" id="mechGrid"></div>
    </section>

  </main>

  <!-- Dynamic Footer -->
  <div id="footer"></div>

  <script src="./header-footer/h-loader.js"></script>
  <script src="./footer/f-loader.js"></script>
  <script src="./script/c-dashboard.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {

  // handle click on header link BEFORE footer exists
  document.addEventListener("click", (e) => {
    if (e.target.matches("#goFooter")) {
      e.preventDefault();

      function scrollNow() {
        const footer = document.querySelector("#site-footer");
        if (footer) {
          footer.scrollIntoView({ behavior: "smooth" });
        }
      }

      // If footer already loaded â†’ scroll immediately
      if (document.querySelector("#site-footer")) {
        scrollNow();
      } 
      else {
        // Wait until footer is loaded â†’ scroll
        window.addEventListener("footer-loaded", scrollNow, { once: true });
      }
    }
  });

});
</script>
</body>
</html>
